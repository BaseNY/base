<template name="messagingPost">
    <div class="messagingPost">
        <div id="message-{{this._id}}" contenteditable="true" class="messageText"></div><a href=""><div class="messageSend"><i class="fa fa-chevron-right"></i></div></a>
    </div>
</template>

<template name="messaging">
	<section class="messages-container">
		{{> messagingSidebar}}
		{{> messagingConversation}}
	</section>
</template>

<template name="messagingSidebar">
	<div class="messaging-sidebar">
		{{#each conversations}}
			<a href="/messages/{{this._id}}" class="messaging-sidebar-item">
				<div class="messaging-sidebar-img">
					<img src="{{this.otherUser.profile.img}}">
				</div>
				<div class="messaging-sidebar-name">{{this.name}}</div>
				<!--{{json this}}-->
			</a>
		{{/each}}
	</div>
</template>

<template name="messagingConversation">
	<div class="messaging-conversation">
		{{> messagingInfo}}
		<div class="messaging-messages-container">
			<div class="messaging-messages">
				{{#each messages}}
					{{> message}}
				{{/each}}
			</div>
		</div>
		<div class="messaging-reply-container">
			<textarea id="messaging-reply" placeholder="Message..."></textarea>
		</div>
	</div>
</template>

<template name="message">
	<div class="message">
		<!--<div class="message-header">
			<div class="message-poster-name">{{this.posterName}}</div>
			<div class="message-time"></div>
		</div>
		<div class="message-text">{{this.text}}</div>-->
		{{this.posterName}}: {{this.text}}
	</div>
</template>

<template name="messagingInfo">
	<div class="messaging-info">
		{{#with conversation}}
			{{#if this.isGroup}}
				roflcopter
			{{else}}
				<a href="/profile/{{this.otherUser._id}}" class="messaging-info-name">
					{{this.otherUser.profile.name}}
				</a>
			{{/if}}
		{{/with}}
	</div>
</template>
